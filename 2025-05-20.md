signupの方法
1.テーブルの作成
2.RLSの設定
3.Database Functionの作成
4.Triggerの作成


テーブル名はusersとして、設定するカラムと型は以下の4つです。
id
email
user_name
role

auth.usersへの外部キー制約と、no delete cascadeです.
外部キーを指定することで、authに登録されるユーザーと独自に作成したusersテーブルに登録されるユーザーを結びつけることができます。
また、no delete cascadeを指定することで、authに登録されたユーザーを削除した際にusersテーブルからも自動で削除することが可能です。


usersテーブルへのアクセスは以下の二つを条件付きで許可することにする
・認証済みのユーザーのみテーブルからのデータ取得可能
・ユーザーIDが一致する場合にのみテーブル内のデータ変更可能

supabaseサインアップ処理の裏側
1.フロントから呼び出し - auth.signupを実行する
2.認証テーブルへの登録　- auth.usersにユーザーが追加される（メタデータ）
3.メール確認 - デフォルトで確認リンクが送信される（設定で無効化）
4.トリガー処理（任意）- 任意のテーブル（user_login_dataなど）へ連携可能
5.トークンの発行 - JWTトークンでログインセッションを管理
6.RLS連携 - auth.uid()でユーザー制御が可能（セキュリティ）
